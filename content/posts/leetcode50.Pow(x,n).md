---
title: leetcode50.Pow(x,n)
date: '2021-10-20'
author: serrini
showToc: true
TocOpen: false
draft: false
tags:
- leetcode
categories:
- LeetCode
---
## Question

```
//å®ç° pow(x, n) ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ï¼ˆå³ï¼Œxnï¼‰ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šx = 2.00000, n = 10
//è¾“å‡ºï¼š1024.00000
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šx = 2.10000, n = 3
//è¾“å‡ºï¼š9.26100
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šx = 2.00000, n = -2
//è¾“å‡ºï¼š0.25000
//è§£é‡Šï¼š2-2 = 1/22 = 1/4 = 0.25
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// -100.0 < x < 100.0 
// -231 <= n <= 231-1 
// -104 <= xn <= 104 
// 
// Related Topics é€’å½’ æ•°å­¦ 
// ğŸ‘ 763 ğŸ‘ 0
```



## Answer

$x^n\,:\,3^5\,:\,x=3, \,n=5$

1. näºŒè¿›åˆ¶è¡¨ç¤º0101ï¼Œn<<1è¡¨ç¤ºn*=2ï¼Œn>>1è¡¨ç¤ºn/=2ã€‚
2. n&1==1è¡¨ç¤ºæœ€åä¸€ä½æ˜¯1ï¼Œn&1==0è¡¨ç¤ºæœ€åä¸€ä½æ˜¯0ã€‚
3. å¯¹nåšå³ç§»ä¸€ä½æ“ä½œï¼Œnæœ€åä¸€ä½æ˜¯1å³åšretä¸xç´¯ä¹˜ã€‚

$n=5=2^2+2^0$

| x=3,n=5 | n=0101 | ret=1*3=3    | x=3*3=9      |
| ------- | ------ | ------------ | ------------ |
|         | n=0010 |              | x=9*9=81     |
|         | n=0001 | ret=3*81=243 | x=81*81=6561 |
|         | n=0001 |              |              |
|         | n=0000 |              |              |
|         | return |              |              |

| x=2,n=10 | n=1010 |                | x=2*2=4     |
| -------- | ------ | -------------- | ----------- |
|          | n=0101 | ret=1*4=4      | x=4*4=16    |
|          | n=0010 |                | x=16*16=256 |
|          | n=0001 | ret=4*256=1024 | x=256*256   |
|          | n=0000 |                |             |
|          | return |                |             |

```cpp
double myPow(double x, int n) {
    // x:2, n:10 (1010)
    //n<<1,*2; n>>1,/2
		double ret = 1;
    if (n<0) {
        x = 1/x;
    }
    long long k = abs((long long)n);	//é˜²æ­¢è¶…æ—¶

    while (k) {
        if (k&1) {
            //nçš„æœ€åä¸€ä½æ˜¯1
            ret *= x;
        }
        x *= x;
        k = k>>1;
        cout << "x:" << x << endl;
    }

    return ret;
}
```

1. x = 1.00000ï¼Œ n = -2147483648ï¼Œlong longå­˜nï¼Œé˜²æ­¢æº¢å‡º
2. x = 2.00000ï¼Œ n = -2
  