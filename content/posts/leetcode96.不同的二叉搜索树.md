---
title: leetcode96.ä¸åŒçš„äºŒå‰æœç´¢æ ‘
date: '2023-03-06'
author: serrini
showToc: true
TocOpen: false
draft: false
tags:
- leetcode
- tree
- bst
categories:
- LeetCode
---
## Question
>
> ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œæ±‚æ°ç”± n ä¸ªèŠ‚ç‚¹ç»„æˆä¸”èŠ‚ç‚¹å€¼ä» 1 åˆ° n äº’ä¸ç›¸åŒçš„ äºŒå‰æœç´¢æ ‘ æœ‰å¤šå°‘ç§ï¼Ÿè¿”å›æ»¡è¶³é¢˜æ„çš„äºŒå‰æœç´¢æ ‘çš„ç§æ•°ã€‚ 
>
> 
>
>  ç¤ºä¾‹ 1ï¼š 
>
>
> è¾“å…¥ï¼šn = 3
> è¾“å‡ºï¼š5
>
>
>  ç¤ºä¾‹ 2ï¼š 
>
>
> è¾“å…¥ï¼šn = 1
> è¾“å‡ºï¼š1
>
> 
>
>
>  æç¤ºï¼š 
>
>
>  1 <= n <= 19 
>
>
>  Related Topics æ ‘ äºŒå‰æœç´¢æ ‘ æ•°å­¦ åŠ¨æ€è§„åˆ’ äºŒå‰æ ‘ ğŸ‘ 2126 ğŸ‘ 0
>  

## Answer

```cpp
//95,è¿”å›æ‰€æœ‰çš„å­æ ‘
//96
//n = 3
//5
//1.1~nä¸­nä¸ªæ•°å­—ä¸ºrootï¼Œæ±‚ä»¥iä¸ºæ ¹çš„bstä¸ªæ•°
//2.ä»¥iä¸ºæ ¹çš„å·¦å­æ ‘ä¸ªæ•° * ä»¥iä¸ºæ ¹çš„å³å­æ ‘çš„ä¸ªæ•° = ä»¥iä¸ºæ ¹çš„bstä¸ªæ•°
//3.ä»¥iä¸ºæ ¹çš„å·¦å­æ ‘ï¼Œæœ‰1ï½i-1è¿™äº›æ•°å­—ç»„æˆ(i-1ä¸ª)ï¼›ä»¥iä¸ºæ ¹çš„å³å­æ ‘ï¼Œä»¥i+1ï½nè¿™äº›æ•°å­—ç»„æˆ(n-iä¸ª)
int dfs0(int n) {
    int ans = 0;
    if (n==0 ||n==1)
        return 1;//n==0æ—¶è¿”å›1ï¼Œå¦åˆ™ç›¸ä¹˜ä¸º0
    for (int i = 1; i <= n; ++i) {
        ans += dfs0(i-1)*dfs0(n-i);
    }
    return ans;
}
int numTrees0(int n) {
    //æš´åŠ›æ³•ï¼ŒTime Limit Exceededï¼Œo(n!)
    return dfs0(n);
}

int dfs1(vector<int> &store, int n) {
    int ans = 0;
    if (n==0 || n==1) {
        return 1;
    }
    if (store[n] != -1) {
        return store[n];
    }
    for (int i = 1; i <= n; ++i) {
        store[i-1] = dfs1(store, i-1);
        store[n-i] = dfs1(store, n-i);
        ans += store[i-1]*store[n-i];
    }
    return ans;
}
int numTrees1(int n) {
    //vecå­˜ä¸‹è®¡ç®—è¿‡çš„æ•°é‡ï¼Œé¿å…è¶…æ—¶
    vector<int> store(n+1, -1);
    return dfs1(store, n);
}

// f[i] : è¡¨ç¤ºä»¥iä¸ºæ ¹èŠ‚ç‚¹ç»„æˆçš„æ ‘çš„ä¸ªæ•°ï¼Œå¯¹äºæ¯ä¸ªf[i] = G[i-1] * G[n-i]
// G[n] : è¡¨ç¤ºnä¸ªèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æ ‘çš„ä¸ªæ•°
// G[n] = f[1] + f[2] + ... + f[n];
// G[n] = G[0]*G[n-1] + G[1]*G[n-2] + ....G[n-1]*G[0]
// G[2] = f[1] + f[2] = G[0]*G[1] + G[1]*G[0]
// G[3] = G[0]*G[2] + G[1]*G[1] + G[2]*G[0]
int numTrees2(int n) {
    //o(n)
    vector<int> G(n+1,0);
    G[0] = 1;
    G[1] = 1;
    for(int i = 2; i <= n; i++){
        for(int j = 1; j <= i; j++){
            G[i] += G[j-1]*G[i-j];
        }
    }
    return G[n];
}
```

## Attention

1. ç»“è®ºä¸€ï¼šä»¥iä¸ºæ ¹çš„å·¦å­æ ‘ï¼Œæœ‰1ï½i-1è¿™äº›æ•°å­—ç»„æˆ(i-1ä¸ª)ï¼›ä»¥iä¸ºæ ¹çš„å³å­æ ‘ï¼Œä»¥i+1ï½nè¿™äº›æ•°å­—ç»„æˆ(n-iä¸ª)
2. ç»“è®ºäºŒï¼šä»¥iä¸ºæ ¹çš„å·¦å­æ ‘ä¸ªæ•° * ä»¥iä¸ºæ ¹çš„å³å­æ ‘çš„ä¸ªæ•° = ä»¥iä¸ºæ ¹çš„bstä¸ªæ•°
3. numTrees0æ–¹æ³•è¶…æ—¶ï¼Œå¯ä»¥é€šè¿‡```vector<int> store(n+1, -1)```è®°å½•ä¸‹å·²ç»è®¡ç®—è¿‡çš„ç»„åˆæ•°é‡
4. æ³¨æ„é€’å½’è¾¹ç•Œï¼š```n==0 || n==1```
5. numTrees2æ˜¯åŠ¨æ€è§„åˆ’